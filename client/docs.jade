template(name='docs')
    .ui.container
        // unless is_editing
        +loginButtons
        if currentUser
            #add.ui.icon.button
                i.plus.icon
            .ui.icon.input
                // i.plus.icon
                input#quick_add(type='text' placeholder='quick add')
                i.lightning.icon
        +cloud
        each docs
            if one_doc
                +view

template(name='cloud')            
    .ui.left.icon.input
        i.search.icon
        +inputAutocomplete settings=settings id="search" class="" autocomplete="off" placeholder='Search Tags'
    if selected_tags
        #clear_tags.ui.active.compact.big.icon.button
            i.remove.icon
    if selected_tags
        each selected_tags
            a.ui.active.compact.big.button.unselect_tag
                strong #{this}
    each all_tags
        .ui.compact.button.select_tag(class=tag_cloud_class) #{this.name}
            // small #{this.count}



template(name='view')
    .ui.basic.segment
        .content
            unless is_editing
                // .meta
                //     each tags
                //         .ui.button.tag(class=tag_class) #{this}
                .description
                    |!{content}
                if is_author
                    .edit.ui.icon.circular.button
                        i.pencil.icon.icon
                else
                    | by #{author.username} #{when}
            else
                +edit


template(name='edit')
    .ui.center.aligned.header edit
    .ui.form
        +tags
        .ui.label tag count #{tag_count}
        +content
        .ui.center.aligned.basic.segment
            if tags
                .save.ui.big.green.button save
            #delete.ui.icon.red.button
                i.remove.icon
